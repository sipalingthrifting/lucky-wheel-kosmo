<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Lucky Wheel Kosmo Toto</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  min-height:100vh;
  font-family:Arial,sans-serif;
  text-align:center;
  color:#fff;
  padding:20px;
  background:
    linear-gradient(rgba(5,10,30,.85), rgba(5,10,30,.95)),
    url("https://i.ibb.co/QvPJVhRr/background.png");
  background-size:cover;
  background-position:center;
}

.logo-title,.shine-text{
  font-weight:800;
  background:linear-gradient(120deg,#00e5ff,#fff,#00e5ff);
  background-size:200%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:shine 3s linear infinite;
  text-shadow:0 0 20px #00c6ff;
}
.logo-title{font-size:30px}
.shine-text{font-size:22px;margin-bottom:10px}

@keyframes shine{to{background-position:200%}}

input{
  padding:12px;
  width:80%;
  max-width:320px;
  border-radius:8px;
  border:none;
  text-align:center;
  font-size:16px;
}

button{
  margin-top:15px;
  padding:12px 30px;
  font-size:16px;
  border:none;
  border-radius:30px;
  background:linear-gradient(45deg,#00ff9c,#00c6ff);
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 0 15px #00c6ff;
}

#status{margin-top:10px;font-weight:bold}

#pointer{
  width:0;height:0;
  border-left:14px solid transparent;
  border-right:14px solid transparent;
  border-bottom:28px solid #fff;
  margin:20px auto -10px;
}

#wheel-container{
  position:relative;
  width:300px;
  height:300px;
  margin:0 auto;
}

#wheel{
  width:100%;
  height:100%;
  border-radius:50%;
  background:conic-gradient(
    #ff5252 0deg 60deg,
    #ff9800 60deg 120deg,
    #ffeb3b 120deg 180deg,
    #4caf50 180deg 240deg,
    #2196f3 240deg 300deg,
    #9c27b0 300deg 360deg
  );
  transition:transform 2.2s cubic-bezier(.05,.9,.1,1);
  box-shadow:0 0 30px rgba(0,198,255,.6);
}

.segment-text{
  position:absolute;
  width:50%;
  left:50%;
  top:50%;
  transform-origin:left center;
  font-size:13px;
  font-weight:bold;
}

#center-logo{
  position:absolute;
  width:105px;
  height:105px;
  border-radius:50%;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:#050b1f;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 0 25px #00c6ff;
}

#center-logo img{width:70%}

/* RESULT POPUP */
#resultPopup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.75);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}
#resultBox{
  background:#081a33;
  padding:25px;
  border-radius:15px;
  box-shadow:0 0 25px #00c6ff;
}
#resultBox button{margin-top:15px}

/* LIVE POPUP */
#livePopup{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:#081a33;
  padding:12px 18px;
  border-radius:30px;
  box-shadow:0 0 15px #00c6ff;
  display:none;
  z-index:998;
  font-size:14px;
}
</style>
</head>

<body>

<div class="logo-title">KOSMO TOTO</div>
<div class="shine-text">üé° LUCKY WHEEL</div>
<p>Masukkan kode kupon</p>

<input id="coupon" placeholder="MASUKKAN KODE KUPON">
<br>
<button id="spinBtn" onclick="spin()">SPIN</button>

<div id="status"></div>

<div id="pointer"></div>

<div id="wheel-container">
  <div id="wheel">
    <div class="segment-text" style="transform:rotate(0deg) translateX(20px)">üéÅ BONUS 10K</div>
    <div class="segment-text" style="transform:rotate(60deg) translateX(20px)">üí∞ BONUS 20K</div>
    <div class="segment-text" style="transform:rotate(120deg) translateX(20px)">üéâ FREE SPIN</div>
    <div class="segment-text" style="transform:rotate(180deg) translateX(20px)">‚ùå ZONK</div>
    <div class="segment-text" style="transform:rotate(240deg) translateX(20px)">üî• BONUS 50K</div>
    <div class="segment-text" style="transform:rotate(300deg) translateX(20px)">‚ùå ZONK</div>
  </div>

  <div id="center-logo">
    <img src="https://i.ibb.co/CsXqGZVn/logo.png">
  </div>
</div>

<!-- RESULT POPUP -->
<div id="resultPopup">
  <div id="resultBox">
    <h3 id="resultText"></h3>
    <button onclick="closeResult()">OK</button>
  </div>
</div>

<!-- LIVE POPUP -->
<div id="livePopup"><span id="liveText"></span></div>

<script>
/* ===== KUPON ===== */
const validCoupons=[
"KOSMO483920","KOSMO193847","KOSMO572910","KOSMO847261",
"KOSMO626827","KOSMO501856","KOSMO994261","KOSMO994026"
];
let usedCoupons=JSON.parse(localStorage.getItem("usedCoupons")||"[]");

/* ===== HADIAH ===== */
const prizes=[
"üéÅ BONUS 10K",
"üí∞ BONUS 20K",
"üéâ FREE SPIN",
"‚ùå ZONK",
"üî• BONUS 50K",
"‚ùå ZONK"
];

let spinning=false;

/* ===== SPIN (ZONK 90‚Äì95%) ===== */
function spin(){
  if(spinning) return;
  spinning=true;

  const code=document.getElementById("coupon").value.trim().toUpperCase();
  const status=document.getElementById("status");
  const wheel=document.getElementById("wheel");

  if(!code){status.innerText="‚ùå Masukkan kode";spinning=false;return;}
  if(!validCoupons.includes(code)){status.innerText="‚ùå Kode tidak valid";spinning=false;return;}
  if(usedCoupons.includes(code)){status.innerText="‚ùå Kode sudah dipakai";spinning=false;return;}

  usedCoupons.push(code);
  localStorage.setItem("usedCoupons",JSON.stringify(usedCoupons));

  status.innerText="üé° Memutar...";
  document.getElementById("spinBtn").disabled=true;

  /* TOTAL 100 | ZONK = 92% */
  const weights=[1,1,1,92,1,4];

  let total=weights.reduce((a,b)=>a+b,0);
  let rand=Math.random()*total;
  let index=0;
  for(let i=0;i<weights.length;i++){
    rand-=weights[i];
    if(rand<=0){index=i;break;}
  }

  const segment=360/prizes.length;
  const offset=Math.random()*segment;
  const finalDeg=360*6+(360-(index*segment+offset));

  wheel.style.transform=`rotate(${finalDeg}deg)`;

  setTimeout(()=>{
    document.getElementById("resultText").innerHTML=
      `SELAMAT üéâ<br>KAMU MENDAPATKAN<br><b>${prizes[index]}</b>`;
    document.getElementById("resultPopup").style.display="flex";
    status.innerText="‚úÖ Selesai";
    spinning=false;
  },2200);
}

function closeResult(){
  document.getElementById("resultPopup").style.display="none";
}

/* ===== LIVE POPUP ===== */
const liveUsers=[
"abunawas","adli","admin77","adul9349","alfas123",
"azam010119","balala01","bethon","bodrex784","mio1000"
];
const livePrizes=["üéÅ BONUS 10K","üí∞ BONUS 20K","üî• BONUS 50K","üéâ FREE SPIN"];

function showLive(){
  const u=liveUsers[Math.floor(Math.random()*liveUsers.length)];
  const p=livePrizes[Math.floor(Math.random()*livePrizes.length)];
  document.getElementById("liveText").innerHTML=
  `üéâ <b>${u}</b> mendapatkan <b>${p}</b>`;
  const box=document.getElementById("livePopup");
  box.style.display="block";
  setTimeout(()=>box.style.display="none",3500);
}
setInterval(showLive,9000);
</script>

</body>
</html>
